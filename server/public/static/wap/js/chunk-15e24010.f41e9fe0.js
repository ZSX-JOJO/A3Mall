(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15e24010"],{3050:function(t,a,s){"use strict";var n=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{class:{"top-nav-wrap":t.placeholder}},[s("div",{staticClass:"nav-bar",class:{"nav-bar-fixed":t.fixed,"nav-bar-transparent":t.transparent},style:t.obj},[t.leftArrow?s("div",{staticClass:"nav-bar-left",on:{click:t.left}},[s("i",{staticClass:"icon iconfont",class:{"nav-bar-icon":t.transparent},staticStyle:{"font-size":"18px"}},[t._v("")])]):t._e(),s("div",{staticClass:"nav-bar-middle",class:{"nav-bar-title":t.transparent}},[t._v(t._s(t.title))]),t.rightArrow?s("div",{staticClass:"nav-bar-right",on:{click:t.right}},["share"==t.rightIcon?s("i",{staticClass:"icon iconfont",class:{"nav-bar-icon":t.transparent},staticStyle:{"font-size":"18px"}},[t._v("")]):t._e(),"delete"==t.rightIcon?s("i",{staticClass:"icon iconfont",class:{"nav-bar-icon":t.transparent},staticStyle:{"font-size":"16px"}},[t._v("")]):t._e()]):t._e()])])},i=[],e=(s("a9e3"),{name:"NavBar",props:{title:{type:String,default:""},zIndex:{type:Number,default:0},fixed:{type:Boolean,default:!1},transparent:{type:Boolean,default:!1},backgroundColor:{type:String,default:""},placeholder:{type:Boolean,default:!1},leftArrow:{type:Boolean,default:!1},rightArrow:{type:Boolean,default:!1},rightIcon:{type:String,default:""}},data:function(){return{obj:{}}},mounted:function(){this.zIndex>0&&(this.obj={"z-index":this.zIndex}),""!=this.backgroundColor&&Object.assign(this.obj,{"background-color":this.backgroundColor})},methods:{left:function(){this.$emit("click-left")},right:function(){this.$emit("click-right")}}}),c=e,o=(s("a60c"),s("2877")),r=Object(o["a"])(c,n,i,!1,null,"e78cf01c",null);a["a"]=r.exports},"5dbe":function(t,a,s){t.exports=s.p+"static/wap/img/coupon-img.5c52d0e7.png"},"951b":function(t,a,s){"use strict";s.r(a);var n=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"clear"},[s("nav-bar",{attrs:{"left-arrow":"",title:"签到",fixed:!0,transparent:!0,"z-index":9999},on:{"click-left":t.prev}}),s("div",{staticClass:"header"},[s("div",{staticClass:"info"},[s("span",{staticClass:"avatar"},[s("img",{attrs:{src:t.user.avatar||""}})]),s("span",[t._v(t._s(t.user.username))]),s("span",[s("i",[t._v("积分："+t._s(t.user.point))])])]),s("div",{staticClass:"activity-rules",on:{click:function(a){return t.$router.push({path:"/sign/log"})}}},[t._v("积分明细")])]),s("div",{staticClass:"sign-box"},[s("div",{staticClass:"sign-wrap clear"},[s("div",{staticClass:"sign-title"},[t._v("签到领积分")]),s("div",{staticClass:"sign-list-box"},[s("div",{staticClass:"sign-list-days"},t._l(t.config.list,(function(a,n){return s("div",{key:n,staticClass:"list-item",class:t.user.sign_count>=n+1?"active":""},[s("div",[s("span",[t._v("+"+t._s(a.point))])]),s("div",[t._v(t._s(a.name))])])})),0)]),s("div",{staticClass:"sign-btn",class:{disable:t.user.is_day},on:{click:t.send}},[t._v("签到")])])]),t.coupon.length?s("div",{staticClass:"coupon clear"},[s("div",{staticClass:"coupon-wrap clear"},[s("div",{staticClass:"coupon-title"},[t._v("积分兑换")]),s("div",{staticClass:"coupon-list clear"},t._l(t.coupon,(function(a,n){return s("div",{key:n,staticClass:"coupon-item",on:{click:function(s){return t.onCoupon(a.id,n)}}},[s("div",[t._v(t._s(a.name))]),s("div",[s("span",[t._v(t._s(a.point)+"积分")]),s("span",{class:{active:a.active}},[t._v("点击兑换")])]),s("div",[t._v(t._s(a.start_time)+" ~ "+t._s(a.start_time))]),t._m(0,!0)])})),0)])]):t._e()],1)},i=[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"coupon-img"},[n("img",{attrs:{src:s("5dbe")}})])}],e=(s("b0c0"),s("e7e5"),s("d399")),c=s("ade3"),o=s("3050"),r={name:"Sign",components:Object(c["a"])({},o["a"].name,o["a"]),data:function(){return{user:{avatar:"",username:"",point:"0",is_day:0,sign_count:0},config:{list:[]},coupon:[]}},created:function(){var t=this,a=this.$storage.get("users",!0);this.user.avatar=a.avatar,this.user.username=a.nickname||a.username||a.mobile,this.$http.getSignConfig().then((function(a){a.status&&(t.user=a.data,t.config=a.data.config,t.coupon=a.data.coupon)}))},methods:{prev:function(){this.$tools.prev()},send:function(){var t=this;if(this.user.is_day)return!1;this.$http.sendSign().then((function(a){a.status?(t.user.point=a.data.point,t.user.sign_count=a.data.sign_count,t.user.is_day=1):Object(e["a"])(a.info)}))},onCoupon:function(t,a){var s=this;if(this.coupon[a].active)return!1;this.$http.receiveSignCoupon({id:t}).then((function(t){t.status?(s.coupon[a].active=1,Object(e["a"])(t.info)):Object(e["a"])(t.info)}))}}},l=r,u=(s("d13a"),s("2877")),d=Object(u["a"])(l,n,i,!1,null,"6f2082de",null);a["default"]=d.exports},a60c:function(t,a,s){"use strict";var n=s("c435"),i=s.n(n);i.a},c435:function(t,a,s){},d13a:function(t,a,s){"use strict";var n=s("ddb9"),i=s.n(n);i.a},ddb9:function(t,a,s){}}]);